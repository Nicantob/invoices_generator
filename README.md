# invoices generator
#### Код: AndrejPress (Коваленко А.В.) 30/01.2024 в рамках практики УИИ (разработка OCR AI)
https://github.com/yenotas/invoices_generator/
####
Генератор тестовых данных и изображений счетов с искажениями, шумами и печатями, 
для тестирования и обучения системы распознавания документов. 
Библиотека имитации отсканированных документов, с хранением данных 
(по которым строятся счета) в "generated_data.json". 
В JSON при построении SVG-файлов и искажениях дописываются координаты центров и размеров надписей,
координаты печатей, названия и координаты углов геометрических искажений.
### Использование:
#### В "config.py" 
- можно указать количество генерируемых файлов, 
- качество и масштабирование изображений, 
- скорректировать размер печати, 
- изменить валюту счета, 
- включить сохранение фрагментов вставок в папку generated_files/text_fragments, 
для визуальной сверки генерируемых текстовых вставок в растре. 
#### В папке "examples" 
- скрипты, поочередно запуская которые (по номерам),
можно создать "generated_data.json" и заполнить все папки генерациями - от шаблонов SVG 
до изображений JPEG с искажениями и добавленными круглыми печатями.
Папка "generated_files" и соответствующие поддиректории, с генерируемыми файлами, 
создаются скриптами.
#### В папке "tools": 

- bbox_viewer - визуализация записанных координат и размеров вставок,

- font_to_svg_insider - внедрение шрифта в SVG файл (библиотека Wand не распознает внедрение в настоящий момент),

- svg_inner_coordinares_corrector - распаковка контейнеров SVG в список тегов с пересчитанными координатами, для упрощения расчетов координат надписей

####  Для конвертации SVG-файлов в PNG:
быстрая конвертация локально, но капризен при запуске из google colab
Установить ImageMagick:
   + для Windows: https://imagemagick.org/script/download.php#windows
   + для Linux: sudo apt-get install imagemagick
   + для macOS: brew install imagemagick
   + установить библиотеку Wand (уже включена в requirements.txt)

Для установки библиотек:
+ "pip install -r requirements.txt" - если выбрана утилита ImageMagick





